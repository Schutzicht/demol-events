---
import '../styles/global.css';
import '@fontsource/inter';
import '@fontsource/outfit';
import SmoothScroll from '../components/ui/SmoothScroll';


interface Props {
	title: string;
	description?: string;
}

const { title, description = "De Mol Events - Jouw event in no-time geregeld!" } = Astro.props;
---

<!doctype html>
<html lang="nl" class="scroll-smooth bg-dme-black">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Op zoek naar een ervaren eventmanager in Zeeland? De Mol Events regelt jouw bedrijfsfeest, seminar of open dag tot in de puntjes. 20+ jaar ervaring." />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>De Mol Events | Eventmanager Zeeland & Complete Organisatie</title>

        <script>
          // Dynamic Favicon Generator
          const canvas = document.createElement('canvas');
          canvas.width = 32;
          canvas.height = 32;
          const ctx = canvas.getContext('2d');
          
          const getLink = () => {
            let link = document.querySelector("link[rel*='icon']") as HTMLLinkElement;
            if (!link) {
              link = document.createElement('link');
              link.type = 'image/x-icon';
              link.rel = 'shortcut icon';
              document.getElementsByTagName('head')[0].appendChild(link);
            }
            return link;
          };

          const drawFavicon = (color: string) => {
            if (!ctx) return;
            ctx.clearRect(0, 0, 32, 32);
            
            // Circle Background
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(16, 16, 16, 0, 2 * Math.PI);
            ctx.fill();

            // 'D' Letter
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 20px "Outfit", sans-serif'; 
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('D', 16, 18); // Slight vertical adjustment
            
            const link = getLink();
            link.href = canvas.toDataURL("image/x-icon");
          };

          // Initial Draw (Teal)
          drawFavicon('#2DD4BF'); // dme-teal

          // Dynamic Change on Visibility
          document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
              drawFavicon('#FF6B6B'); // Coral (Attention seeker!)
              document.title = "Kom terug! ðŸ‘‹ | De Mol Events";
            } else {
              drawFavicon('#2DD4BF'); // Teal (Normal)
              document.title = "De Mol Events | Eventmanager Zeeland & Complete Organisatie";
            }
          });
        </script>
	</head>
	<body class="bg-dme-black text-white">
		<SmoothScroll client:only="react" />
		<slot />
	</body>
</html>
